define("parser",["configuration"],function(e){var t=function(){function t(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function n(e,t,n,r,i,s){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=i,this.column=s,this.name="SyntaxError"}function r(t){function vt(){return t.substring(at,ut)}function mt(){return at}function gt(){return Et(at).line}function yt(){return Et(at).column}function bt(e){throw xt(null,[{type:"other",description:e}],at)}function wt(e){throw xt(e,null,at)}function Et(e){function n(e,n,r){var i,s;for(i=n;i<r;i++)s=t.charAt(i),s==="\n"?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):s==="\r"||s==="\u2028"||s==="\u2029"?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}return ft!==e&&(ft>e&&(ft=0,lt={line:1,column:1,seenCR:!1}),n(lt,ft,e),ft=e),lt}function St(e){if(ut<ct)return;ut>ct&&(ct=ut,ht=[]),ht.push(e)}function xt(e,r,i){function s(e){var t=1;e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});while(t<e.length)e[t-1]===e[t]?e.splice(t,1):t++}function o(e,t){function n(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}var r=new Array(e.length),i,s,o;for(o=0;o<e.length;o++)r[o]=e[o].description;return i=e.length>1?r.slice(0,-1).join(", ")+" or "+r[e.length-1]:r[0],s=t?'"'+n(t)+'"':"end of input","Expected "+i+" but "+s+" found."}var u=Et(i),a=i<t.length?t.charAt(i):null;return r!==null&&s(r),new n(e!==null?e:o(r,a),r,a,i,u.line,u.column)}function Tt(){var e,t,n,r,s;return e=ut,t=Nt(),t!==i?(n=ut,r=Ft(),r!==i?(s=It(),s!==i?(at=n,r=f(s),n=r):(ut=n,n=u)):(ut=n,n=u),n===i&&(n=a),n!==i?(at=e,t=l(t,n),e=t):(ut=e,e=u)):(ut=e,e=u),e}function Nt(){var e,t,n,r,s,o,f;e=ut,t=ut,n=Ct();if(n!==i){r=[],s=ut,o=qt(),o!==i?(f=Ct(),f!==i?(at=s,o=h(f),s=o):(ut=s,s=u)):(ut=s,s=u);while(s!==i)r.push(s),s=ut,o=qt(),o!==i?(f=Ct(),f!==i?(at=s,o=h(f),s=o):(ut=s,s=u)):(ut=s,s=u);r!==i?(at=t,n=p(n,r),t=n):(ut=t,t=u)}else ut=t,t=u;return t===i&&(t=a),t!==i&&(at=e,t=d(t)),e=t,e}function Ct(){var e,t,n,r,s,o;return e=ut,t=kt(),t===i&&(t=a),t!==i?(n=At(),n!==i?(r=Mt(),r===i&&(r=a),r!==i?(at=e,t=v(t,n,r),e=t):(ut=e,e=u)):(ut=e,e=u)):(ut=e,e=u),e===i&&(e=ut,t=kt(),t===i&&(t=a),t!==i?(n=ut,r=Ut(),r!==i?(s=Nt(),s!==i?(o=zt(),o!==i?(at=n,r=m(s),n=r):(ut=n,n=u)):(ut=n,n=u)):(ut=n,n=u),n!==i?(r=Ot(),r===i&&(r=a),r!==i?(at=e,t=g(t,n,r),e=t):(ut=e,e=u)):(ut=e,e=u)):(ut=e,e=u)),e}function kt(){var e,t,n,r,s;return pt++,e=ut,t=Rt(),t===i&&(t=a),t!==i?(n=Pt(),n!==i?(r=Rt(),r===i&&(r=a),r!==i?(s=Bt(),s!==i?(at=e,t=b(t,n,r),e=t):(ut=e,e=u)):(ut=e,e=u)):(ut=e,e=u)):(ut=e,e=u),pt--,e===i&&(t=i,pt===0&&St(y)),e}function Lt(){var e,n;e=[],w.test(t.charAt(ut))?(n=t.charAt(ut),ut++):(n=i,pt===0&&St(E));if(n!==i)while(n!==i)e.push(n),w.test(t.charAt(ut))?(n=t.charAt(ut),ut++):(n=i,pt===0&&St(E));else e=u;return e}function At(){var e,t,n,r;return pt++,e=ut,t=Rt(),t!==i?(n=Pt(),n!==i?(r=Rt(),r!==i?(at=e,t=x(t,n,r),e=t):(ut=e,e=u)):(ut=e,e=u)):(ut=e,e=u),e===i&&(e=ut,t=Lt(),t!==i&&(at=e,t=T(t)),e=t),pt--,e===i&&(t=i,pt===0&&St(S)),e}function Ot(){var e,t,n;return e=ut,t=Dt(),t!==i?(n=Ht(),n!==i?(at=e,t=N(n),e=t):(ut=e,e=u)):(ut=e,e=u),e}function Mt(){var e,t,n;return e=ut,t=_t(),t!==i?(n=Ht(),n!==i?(at=e,t=C(n),e=t):(ut=e,e=u)):(ut=e,e=u),e}function _t(){var e,n;return pt++,t.charCodeAt(ut)===64?(e=L,ut++):(e=i,pt===0&&St(A)),pt--,e===i&&(n=i,pt===0&&St(k)),e}function Dt(){var e,n;return pt++,t.charCodeAt(ut)===42?(e=M,ut++):(e=i,pt===0&&St(_)),pt--,e===i&&(n=i,pt===0&&St(O)),e}function Pt(){var e,n;pt++,e=[],P.test(t.charAt(ut))?(n=t.charAt(ut),ut++):(n=i,pt===0&&St(H));if(n!==i)while(n!==i)e.push(n),P.test(t.charAt(ut))?(n=t.charAt(ut),ut++):(n=i,pt===0&&St(H));else e=u;return pt--,e===i&&(n=i,pt===0&&St(D)),e}function Ht(){var e,n,r;e=ut,n=[],B.test(t.charAt(ut))?(r=t.charAt(ut),ut++):(r=i,pt===0&&St(j));if(r!==i)while(r!==i)n.push(r),B.test(t.charAt(ut))?(r=t.charAt(ut),ut++):(r=i,pt===0&&St(j));else n=u;return n!==i&&(at=e,n=F(n)),e=n,e}function Bt(){var e,n;return pt++,t.charCodeAt(ut)===58?(e=q,ut++):(e=i,pt===0&&St(R)),pt--,e===i&&(n=i,pt===0&&St(I)),e}function jt(){var e,n;e=[],t.charCodeAt(ut)===32?(n=U,ut++):(n=i,pt===0&&St(z));if(n!==i)while(n!==i)e.push(n),t.charCodeAt(ut)===32?(n=U,ut++):(n=i,pt===0&&St(z));else e=u;return e}function Ft(){var e,n;return pt++,t.charCodeAt(ut)===61?(e=X,ut++):(e=i,pt===0&&St(V)),pt--,e===i&&(n=i,pt===0&&St(W)),e}function It(){var e,t;return pt++,e=ut,t=Lt(),t!==i&&(at=e,t=J(t)),e=t,pt--,e===i&&(t=i,pt===0&&St($)),e}function qt(){var e,n;return pt++,t.charCodeAt(ut)===44?(e=Q,ut++):(e=i,pt===0&&St(G)),pt--,e===i&&(n=i,pt===0&&St(K)),e}function Rt(){var e,n;return pt++,t.charCodeAt(ut)===39?(e=Z,ut++):(e=i,pt===0&&St(et)),pt--,e===i&&(n=i,pt===0&&St(Y)),e}function Ut(){var e,n;return pt++,t.charCodeAt(ut)===40?(e=nt,ut++):(e=i,pt===0&&St(rt)),pt--,e===i&&(n=i,pt===0&&St(tt)),e}function zt(){var e,n;return pt++,t.charCodeAt(ut)===41?(e=st,ut++):(e=i,pt===0&&St(ot)),pt--,e===i&&(n=i,pt===0&&St(it)),e}function Wt(e,t){return{parser:"scissr",generator:e!==null?e:"json",nodes:t}}function Xt(e){return{name:e}}function Vt(t,n){if(t.value!==undefined)return"string";var r="string";if(e.types[t.name]!==undefined)r=t.name;else if(t.name==="object"||n!==null&&n.isComplexType==1)r="object";return r}function $t(e,t,n,r,i){var s=Vt(e,r),o={type:e.name,baseType:s,isArray:!1,count:1,data:[]};return e.value!==undefined&&(o.value=e.value),n!==null&&(o.nodes=n),r!==null&&(o.isArray=!0,o.count=parseInt(r.count)),t!==null?o.alias=t:o.isArray?o.alias=e.name+"Array":o.alias=e.name,o}var r=arguments.length>1?arguments[1]:{},i={},s={tree:Tt},o=Tt,u=i,a=null,f=function(e){return e},l=function(e,t){return Wt(t,e)},c=[],h=function(e){return e},p=function(e,t){return[e].concat(t)},d=function(e){return e!==null?e:[]},v=function(e,t,n){return $t(t,e,undefined,n)},m=function(e){return e},g=function(e,t,n){var r={name:"object"};return $t(r,e,t,n,"test")},y={type:"other",description:"alias"},b=function(e,t,n){if(e!=n)throw new Error("Unterminated string constant.");return t.join("")},w=/^[0-9a-zA-Z]/,E={type:"class",value:"[0-9a-zA-Z]",description:"[0-9a-zA-Z]"},S={type:"other",description:"type"},x=function(e,t,n){if(e!=n)throw new Error("Unterminated string constant.");return{name:"string",value:t.join("")}},T=function(e){if(e===null)throw new Error("Type expected.");return{name:e.join("")}},N=function(e){return{isComplexType:!0,count:e}},C=function(e){return{isComplexType:!1,count:e}},k={type:"other",description:"simple type array identifier"},L="@",A={type:"literal",value:"@",description:'"@"'},O={type:"other",description:"complex type array identifier"},M="*",_={type:"literal",value:"*",description:'"*"'},D={type:"other",description:"literal value"},P=/^[0-9A-Za-z_ ]/,H={type:"class",value:"[0-9A-Za-z_ ]",description:"[0-9A-Za-z_ ]"},B=/^[0-9]/,j={type:"class",value:"[0-9]",description:"[0-9]"},F=function(e){return parseInt(e.join(""))},I={type:"other",description:"colon (:)"},q=":",R={type:"literal",value:":",description:'":"'},U=" ",z={type:"literal",value:" ",description:'" "'},W={type:"other",description:"format specifier (=)"},X="=",V={type:"literal",value:"=",description:'"="'},$={type:"other",description:"generator"},J=function(e){return e.join("")},K={type:"other",description:"seperator (,)"},Q=",",G={type:"literal",value:",",description:'","'},Y={type:"other",description:"quote (')"},Z="'",et={type:"literal",value:"'",description:'"\'"'},tt={type:"other",description:"'('"},nt="(",rt={type:"literal",value:"(",description:'"("'},it={type:"other",description:"')'"},st=")",ot={type:"literal",value:")",description:'")"'},ut=0,at=0,ft=0,lt={line:1,column:1,seenCR:!1},ct=0,ht=[],pt=0,dt;if("startRule"in r){if(!(r.startRule in s))throw new Error("Can't start parsing from rule \""+r.startRule+'".');o=s[r.startRule]}dt=o();if(dt!==i&&ut===t.length)return dt;throw dt!==i&&ut<t.length&&St({type:"end",description:"end of input"}),xt(null,ht,ct)}return t(n,Error),{SyntaxError:n,parse:r}}();return{parse:t.parse}}),define("generator",["configuration"],function(e){function t(t){var n=e.generators[t.generator];if(n===undefined){var r="generator '"+t.generator+"' not registered!";throw{message:r}}var i=new n.generator(t,e);return i.generate()}return{generate:t}}),define("scissr",["parser","generator"],function(e,t){function n(n){var r=e.parse(n),i=t.generate(r);return{header:{generator:r.generator},body:i}}return{transform:n}});